"use strict";function setGo(){var n=JSON.parse(window.localStorage.getItem("cart"));if(null===n||0===n.length){return $(".box").html("<h1>您的购物车空了,再去逛逛吧</h1>"),!1}var a="",o=!0,e=0,c=0,d=0;a+='\n                \n                <div class="panel panel-info ">\n                    <div class="panel-body bg-info">\n                    <div class="checkbox">\n                        <label>\n                        <input name="all"  type="checkbox" value="">\n                        全选\n                        </label>\n                    </div>\n                    </div>\n                    <div class="panel-footer">\n                    <ul class="cart-list">',n.forEach(function(n,t){!1===n.buy&&(o=!1),!0===n.buy&&(e+=1,c+=n.num,d+=n.num*n.goods_price),a+='\n                    <li class="cart-item">\n                        <div class="left">\n                        <input name="other" goods_id="'.concat(n.goods_id,'" type="checkbox" ').concat(n.buy?"checked":"",'>\n                        </div>\n                        <div class="right">\n                        <div class="media">\n                            <div class="media-left">\n                            <a href="#">\n                                <img class="media-object" src="').concat(n.goods_small_logo,'" alt="...">\n                            </a>\n                            </div>\n                            <div class="media-body">\n                            <h4 class="media-heading">').concat(n.goods_name,'</h4>\n                            <p>\n                                <i class="glyphicon glyphicon-yen"></i>\n                                <span>').concat(n.goods_price,'</span>\n                            </p>\n                            <div class="btn-group pull-right" role="group" aria-label="...">\n                                <button type="button" class="btn btn-default" name="-" goods_id="').concat(n.goods_id,'" ').concat(1===n.num?"disabled":"",' >-</button>                             \n                                <button type="button" class="btn btn-default" disabled>').concat(n.num,'</button>\n                                <button type="button" class="btn btn-default" name="+" goods_id="').concat(n.goods_id,'" ').concat(n.num===n.goods_number?"disabled":"",'>+</button>\n                            </div>\n                            <button class="del btn btn-danger" name="del" goods_id="').concat(n.goods_id,'" >我不要了</button>\n\n                            </div>\n                        </div>\n                        </div>\n                    </li>\n                    \n                    ')}),a+="\n                 </ul>\n                    </div>\n                </div>\n\n                <div>\n                    <h1>您一共选择了".concat(e,"种商品,一个").concat(c,"件</h1>\n                    <h1>您总共需简支付").concat(d.toFixed(2),"元</h1>\n                </div>"),$(".box").html(a),$('[name="all"]').prop("checked",o)}setGo(),$(".box").click(function(a){var o=JSON.parse(window.localStorage.getItem("cart"));"all"===$(a.target).attr("name")&&o.forEach(function(n){n.buy=$(a.target).prop("checked")}),"other"===$(a.target).attr("name")&&o.forEach(function(n,t){$(a.target).attr("goods_id")==n.goods_id&&(n.buy=$(a.target).prop("checked"))}),"-"===$(a.target).attr("name")&&o.forEach(function(n){n.goods_id==$(a.target).attr("goods_id")&&n.num--}),"+"===$(a.target).attr("name")&&o.forEach(function(n){n.goods_id==$(a.target).attr("goods_id")&&n.num++}),"del"===$(a.target).attr("name")&&o.forEach(function(n,t){$(a.target).attr("goods_id")==n.goods_id&&o.splice(t,1)}),window.localStorage.setItem("cart",JSON.stringify(o)),setGo()});